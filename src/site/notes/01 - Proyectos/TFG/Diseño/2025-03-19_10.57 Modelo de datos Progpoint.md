---
{"dg-publish":true,"dg-path":"Diseño/2025-03-19_10.57 Modelo de datos Progpoint.md","permalink":"/diseno/2025-03-19-10-57-modelo-de-datos-progpoint/","tags":["TFG","Diseño"]}
---

Partimos de la definición de (Osborn.J et al, 2023) para sistemas de combate. En el, se determina que hay sistema de combate cuando:
 * Hay un **espacio** en el que varios **agentes** intercambian **acciones** violentas o no violentas entre ellos
 * Hay una manera de determinar qué acciones **posee** un **agente**, las condiciones para su **efectividad**, y la **cuantificación** de esa efectividad
 * Efectos observables de todas las acciones de combate, que son visibles para, al menos, el agente iniciador y el agente objetivo
 * Circunstancias por las que los agentes entran o salen de la pelea y **condiciones de final de combate**.

De aquí podemos sacar un par de elementos primarios:

+ **Agente**: Personajes que combaten, los enemigos, todos aquellos que combatan dentro del sistema.
+ **Acción**: Las posibilidades que tienen los agentes de interactuar con el combate.
+ **Efecto**: El resultado de una acción realizada por un personaje a otro personaje (o varios).
+ **Estadística**: Valor que determina la efectividad de todas las acciones de todos los personajes, y las consecuencias de los efectos.

Ahora, cómo atamos esto a los sistemas de progresión?

Pongamos el caso de Honkai: Star Rail, que tiene un sistema de combate por turnos bastante simplificado (es un gacha, no le da la vida para más).

Cada actor (en este caso, personajes y enemigos), tienen unas estadísticas base:
HP:
DEF:
ATK:
SPD:
Max Energy:
Energy Regeneration Rate:
CRIT Rate:
CRIT DMG:
Elemental Boost:
Elemental Res
Effect Res:
Effect Hit Rate:
Break Effect:

Los personajes sacan estas estadísticas de varios sitios distintos:
De sitios permanentes:
+ Nivel de personaje
+ Cono de Luz
+ Trazas
+ Reliquias
De sitios temporales
+ Efectos de otros personajes
+ Efectos de LC’s / Reliquias

# Al lío

Creo que entonces tenemos un modelo como este

<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="2025-03-19_1057_Modelo_de_datos_Progpoint_2025-03-28_11.04.04.excalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.9.2","elements":[{"id":"Vy086Gtarwqug2AVOhKAA","type":"rectangle","x":-416,"y":-253.2421875,"width":253,"height":105,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":453716774,"version":72,"versionNonce":308412646,"isDeleted":false,"boundElements":[{"type":"text","id":"8LhzkqP1"}],"updated":1743156369469,"link":null,"locked":false},{"id":"8LhzkqP1","type":"text","x":-338.9099807739258,"y":-223.2421875,"width":98.81996154785156,"height":45,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":1793812710,"version":60,"versionNonce":1031599142,"isDeleted":false,"boundElements":null,"updated":1743156369469,"link":null,"locked":false,"text":"Actor","rawText":"Actor","fontSize":36,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"Vy086Gtarwqug2AVOhKAA","originalText":"Actor","autoResize":true,"lineHeight":1.25},{"id":"xJ2UjzgFvl6_4xr1LUaoQ","type":"diamond","x":-24,"y":-306.2421875,"width":207,"height":160,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a3","roundness":{"type":2},"seed":272901178,"version":486,"versionNonce":1374404262,"isDeleted":false,"boundElements":[{"type":"text","id":"jZxyJWIK"}],"updated":1743156752578,"link":null,"locked":false},{"id":"jZxyJWIK","type":"text","x":36.042030334472656,"y":-243.7421875,"width":87.41593933105469,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a4","roundness":null,"seed":122477862,"version":403,"versionNonce":1753807334,"isDeleted":false,"boundElements":null,"updated":1743156752578,"link":null,"locked":false,"text":"realiza","rawText":"realiza","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"xJ2UjzgFvl6_4xr1LUaoQ","originalText":"realiza","autoResize":true,"lineHeight":1.25},{"id":"V8c_zMnm7RkL5YJJetTpa","type":"rectangle","x":297,"y":-252.2421875,"width":262,"height":106,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a5","roundness":{"type":3},"seed":509343290,"version":69,"versionNonce":755367014,"isDeleted":false,"boundElements":[{"type":"text","id":"DbToTjNG"}],"updated":1743156366534,"link":null,"locked":false},{"id":"DbToTjNG","type":"text","x":370.1240234375,"y":-216.7421875,"width":115.751953125,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a6","roundness":null,"seed":25903674,"version":61,"versionNonce":1763016614,"isDeleted":false,"boundElements":null,"updated":1743156366534,"link":null,"locked":false,"text":"Acciones","rawText":"Acciones","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"V8c_zMnm7RkL5YJJetTpa","originalText":"Acciones","autoResize":true,"lineHeight":1.25},{"id":"0uBm3rAxOttL7MPnbCiR0","type":"rectangle","x":272,"y":188.7578125,"width":285,"height":120,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a7","roundness":{"type":3},"seed":1469121254,"version":143,"versionNonce":1678499814,"isDeleted":false,"boundElements":[{"type":"text","id":"VkX3hes6"}],"updated":1743156367635,"link":null,"locked":false},{"id":"VkX3hes6","type":"text","x":359.3260192871094,"y":231.2578125,"width":110.34796142578125,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a7V","roundness":null,"seed":1316686778,"version":88,"versionNonce":479392550,"isDeleted":false,"boundElements":null,"updated":1743156367635,"link":null,"locked":false,"text":"Efectos","rawText":"Efectos","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"0uBm3rAxOttL7MPnbCiR0","originalText":"Efectos","autoResize":true,"lineHeight":1.25},{"id":"Nmwt1bGUPjzCp56Kh1ppH","type":"rectangle","x":-446,"y":220.7578125,"width":285,"height":101,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a9","roundness":{"type":3},"seed":478415738,"version":158,"versionNonce":1259025402,"isDeleted":false,"boundElements":[{"type":"text","id":"IgsXI5L4"}],"updated":1743156643554,"link":null,"locked":false},{"id":"IgsXI5L4","type":"text","x":-390.1739501953125,"y":253.7578125,"width":173.347900390625,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a9V","roundness":null,"seed":1979893158,"version":109,"versionNonce":1781966010,"isDeleted":false,"boundElements":null,"updated":1743156643554,"link":null,"locked":false,"text":"Estadísticas","rawText":"Estadísticas","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"Nmwt1bGUPjzCp56Kh1ppH","originalText":"Estadísticas","autoResize":true,"lineHeight":1.25},{"id":"OkY3IVJMVfD2meNLSyDu8","type":"diamond","x":305,"y":-61.2421875,"width":226.99999999999991,"height":162,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":{"type":2},"seed":1337266810,"version":133,"versionNonce":1753476518,"isDeleted":false,"boundElements":[{"type":"text","id":"k3Bwti7f"}],"updated":1743156367184,"link":null,"locked":false},{"id":"k3Bwti7f","type":"text","x":370.67801666259766,"y":2.2578125,"width":95.14396667480469,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":null,"seed":494435750,"version":80,"versionNonce":2051229926,"isDeleted":false,"boundElements":null,"updated":1743156367184,"link":null,"locked":false,"text":"Causan","rawText":"Causan","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"OkY3IVJMVfD2meNLSyDu8","originalText":"Causan","autoResize":true,"lineHeight":1.25},{"id":"ohExDX6MKHknrDePlieFa","type":"diamond","x":-446,"y":-100.2421875,"width":278,"height":271,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":{"type":2},"seed":1183696998,"version":283,"versionNonce":1020335802,"isDeleted":false,"boundElements":[{"type":"text","id":"aCjm4JtM"}],"updated":1743156644107,"link":null,"locked":false},{"id":"aCjm4JtM","type":"text","x":-369.9019775390625,"y":-16.9921875,"width":125.803955078125,"height":105,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aE","roundness":null,"seed":1775181690,"version":230,"versionNonce":1454518138,"isDeleted":false,"boundElements":null,"updated":1743156644107,"link":null,"locked":false,"text":"Se\ncomponen\nde","rawText":"Se componen de","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"ohExDX6MKHknrDePlieFa","originalText":"Se componen de","autoResize":true,"lineHeight":1.25},{"id":"HjKfA-BsRSOMTspIJTRf1","type":"diamond","x":-38,"y":176.7578125,"width":216,"height":174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aF","roundness":{"type":2},"seed":136394554,"version":149,"versionNonce":1049310630,"isDeleted":false,"boundElements":[{"type":"text","id":"TsRdOxIK"}],"updated":1743156620682,"link":null,"locked":false},{"id":"TsRdOxIK","type":"text","x":26.936019897460938,"y":228.7578125,"width":86.12796020507812,"height":70,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aG","roundness":null,"seed":1397857210,"version":97,"versionNonce":539070694,"isDeleted":false,"boundElements":null,"updated":1743156620682,"link":null,"locked":false,"text":"Cuanti\nfican","rawText":"Cuantifican","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"HjKfA-BsRSOMTspIJTRf1","originalText":"Cuantifican","autoResize":true,"lineHeight":1.25},{"id":"jrDrCJPv43FeqepPTrYgh","type":"line","x":-142,"y":-206.2421875,"width":142,"height":0,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aL","roundness":{"type":2},"seed":1575093370,"version":19,"versionNonce":1943657830,"isDeleted":false,"boundElements":null,"updated":1743156666544,"link":null,"locked":false,"points":[[0,0],[142,0]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"dqlJos5hUdIrF8zG9goAp","type":"line","x":158,"y":-205.2421875,"width":121,"height":0,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aM","roundness":{"type":2},"seed":1287995558,"version":24,"versionNonce":227555238,"isDeleted":false,"boundElements":null,"updated":1743156670330,"link":null,"locked":false,"points":[[0,0],[121,0]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"EFBZnQhkwGZ6Aiu1OaKbh","type":"line","x":422,"y":-132.2421875,"width":0,"height":59,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aN","roundness":{"type":2},"seed":188109542,"version":26,"versionNonce":1903541542,"isDeleted":false,"boundElements":null,"updated":1743156673647,"link":null,"locked":false,"points":[[0,0],[0,59]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"83KTSn_881ATxMjsTGvBb","type":"line","x":420,"y":108.7578125,"width":0,"height":72,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aO","roundness":{"type":2},"seed":860825702,"version":27,"versionNonce":1929495226,"isDeleted":false,"boundElements":null,"updated":1743156676687,"link":null,"locked":false,"points":[[0,0],[0,72]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"JQdexGDutVp0_uUqEo_lT","type":"line","x":261,"y":255.7578125,"width":71,"height":0,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aP","roundness":{"type":2},"seed":1508727674,"version":33,"versionNonce":1336517926,"isDeleted":false,"boundElements":null,"updated":1743156679990,"link":null,"locked":false,"points":[[0,0],[-71,0]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"92oYeVO-vPivJ-bf9YbQM","type":"line","x":-52,"y":265.7578125,"width":86,"height":0,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aQ","roundness":{"type":2},"seed":1925582950,"version":22,"versionNonce":252828710,"isDeleted":false,"boundElements":null,"updated":1743156682276,"link":null,"locked":false,"points":[[0,0],[-86,0]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"Ilk5RCOCC9-lhCzahTyP1","type":"line","x":-304,"y":212.7578125,"width":0,"height":32,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aR","roundness":{"type":2},"seed":638543718,"version":17,"versionNonce":690262010,"isDeleted":false,"boundElements":null,"updated":1743156685062,"link":null,"locked":false,"points":[[0,0],[0,-32]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"WmpfbVfuKmOvwoYiKqcou","type":"line","x":-307,"y":-97.2421875,"width":0,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aS","roundness":{"type":2},"seed":1959035066,"version":15,"versionNonce":1694269094,"isDeleted":false,"boundElements":null,"updated":1743156687881,"link":null,"locked":false,"points":[[0,0],[0,-35]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"gKdD0QY4","type":"text","x":-192,"y":-58.2421875,"width":8.539993286132812,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aT","roundness":null,"seed":1535228390,"version":34,"versionNonce":1560634874,"isDeleted":true,"boundElements":null,"updated":1743156793439,"link":null,"locked":false,"text":"1","rawText":"1","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1","autoResize":true,"lineHeight":1.25},{"id":"J9k1otFD","type":"text","x":-203,"y":94.7578125,"width":25.3399658203125,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aU","roundness":null,"seed":932369210,"version":42,"versionNonce":1401604582,"isDeleted":true,"boundElements":null,"updated":1743156794047,"link":null,"locked":false,"text":"inf","rawText":"inf","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"inf","autoResize":true,"lineHeight":1.25},{"id":"0IzarFbj","type":"text","x":36,"y":-169.2421875,"width":8.539993286132812,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aV","roundness":null,"seed":1395868326,"version":5,"versionNonce":154198054,"isDeleted":true,"boundElements":null,"updated":1743156792703,"link":null,"locked":false,"text":"1","rawText":"1","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1","autoResize":true,"lineHeight":1.25},{"id":"mBEkvZDL","type":"text","x":119,"y":-173.2421875,"width":25.3399658203125,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aX","roundness":null,"seed":1553615034,"version":17,"versionNonce":1596933050,"isDeleted":true,"boundElements":null,"updated":1743156791974,"link":null,"locked":false,"text":"inf","rawText":"inf","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"inf","autoResize":true,"lineHeight":1.25},{"id":"q0FzMyga","type":"text","x":311,"y":-46.2421875,"width":35.475982666015625,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aZ","roundness":null,"seed":1418009594,"version":22,"versionNonce":1560497766,"isDeleted":true,"boundElements":null,"updated":1743156791112,"link":null,"locked":false,"text":"inf","rawText":"inf","fontSize":28,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"inf","autoResize":true,"lineHeight":1.25},{"id":"5415Y6vP","type":"text","x":317,"y":62.7578125,"width":35.475982666015625,"height":35,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aa","roundness":null,"seed":900209402,"version":23,"versionNonce":645260838,"isDeleted":true,"boundElements":null,"updated":1743156790119,"link":null,"locked":false,"text":"inf","rawText":"inf","fontSize":28,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"inf","autoResize":true,"lineHeight":1.25}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":5,"currentItemFontSize":28,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemArrowType":"round","scrollX":927,"scrollY":477.7578125,"zoom":{"value":1},"currentItemRoundness":"round","gridSize":20,"gridStep":5,"gridModeEnabled":false,"gridColor":{"Bold":"rgba(217, 217, 217, 0.5)","Regular":"rgba(230, 230, 230, 0.5)"},"currentStrokeOptions":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false,"activeTool":{"type":"selection","customType":null,"locked":false,"lastActiveTool":null}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("2025-03-19_1057_Modelo_de_datos_Progpoint_2025-03-28_11.04.04.excalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

# Agente

Lo definimos a partir de un mapa de nodos:

* A la izquierda, conectarás estadísticas
	* Creadas previamente en la ventana de Estadísticas
	* Les asignarás una Progresión específica (distintos actores pueden tener progresiones de la misma estadística) con nodos a su izquierda

<div id="2025-03-19_1057_Modelo_de_datos_Progpoint_2025-03-28_11.17.40.excalidraw.md2"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.9.2","elements":[{"id":"58aIgW0hKkyEEi8T96FBf","type":"rectangle","x":644,"y":161.953125,"width":172,"height":407,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":{"type":3},"seed":507631527,"version":59,"versionNonce":1139319209,"isDeleted":false,"boundElements":[],"updated":1743157069723,"link":null,"locked":false},{"id":"HNFFjTkz","type":"text","x":684,"y":197.953125,"width":67.67994689941406,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a1","roundness":null,"seed":1695091561,"version":9,"versionNonce":86528617,"isDeleted":false,"boundElements":[],"updated":1743157075454,"link":null,"locked":false,"text":"Agente","rawText":"Agente","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Agente","autoResize":true,"lineHeight":1.25},{"id":"aKbRqwiHzaIa8lCitiLmh","type":"rectangle","x":399,"y":240.321060094519,"width":98.75,"height":54.497716894977174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a2","roundness":{"type":3},"seed":1924003783,"version":265,"versionNonce":1420558189,"isDeleted":false,"boundElements":[{"type":"text","id":"8CT7dpKh"}],"updated":1743440778277,"link":null,"locked":false},{"id":"8CT7dpKh","type":"text","x":435.6650085449219,"y":255.0699185420076,"width":25.41998291015625,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a3","roundness":null,"seed":603258759,"version":272,"versionNonce":523471309,"isDeleted":false,"boundElements":[],"updated":1743440778277,"link":null,"locked":false,"text":"HP","rawText":"HP","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"aKbRqwiHzaIa8lCitiLmh","originalText":"HP","autoResize":true,"lineHeight":1.25},{"id":"diRIatfNxYtyFaAFkbnxv","type":"line","x":499,"y":268.953125,"width":146,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a4","roundness":{"type":2},"seed":733751145,"version":45,"versionNonce":1871824999,"isDeleted":false,"boundElements":[],"updated":1743157085789,"link":null,"locked":false,"points":[[0,0],[146,-25]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"k28ni0urqnVbeN0stQsct","type":"rectangle","x":399.625,"y":299.3435359589041,"width":98.75,"height":54.497716894977174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a5","roundness":{"type":3},"seed":348567241,"version":291,"versionNonce":363655017,"isDeleted":false,"boundElements":[{"type":"text","id":"fHq6NA6n"}],"updated":1743157126729,"link":null,"locked":false},{"id":"fHq6NA6n","type":"text","x":427.5400085449219,"y":314.0923944063927,"width":42.91998291015625,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a6","roundness":null,"seed":37156265,"version":267,"versionNonce":1192041033,"isDeleted":false,"boundElements":[],"updated":1743157126729,"link":null,"locked":false,"text":"ATK","rawText":"ATK","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"k28ni0urqnVbeN0stQsct","originalText":"ATK","autoResize":true,"lineHeight":1.25},{"id":"9RbFJCQQAVZiYuVVBcooP","type":"rectangle","x":400.25,"y":360.2111158675799,"width":98.75,"height":54.497716894977174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a7","roundness":{"type":3},"seed":1303806471,"version":282,"versionNonce":1961158953,"isDeleted":false,"boundElements":[{"type":"text","id":"vS65iZqV"}],"updated":1743157126729,"link":null,"locked":false},{"id":"vS65iZqV","type":"text","x":428.14501190185547,"y":374.9599743150685,"width":42.95997619628906,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a8","roundness":null,"seed":1673963815,"version":294,"versionNonce":2023742473,"isDeleted":false,"boundElements":[],"updated":1743157126729,"link":null,"locked":false,"text":"DEF","rawText":"DEF","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"9RbFJCQQAVZiYuVVBcooP","originalText":"DEF","autoResize":true,"lineHeight":1.25},{"id":"y4njsH4yJ8AaeDzEkGDxO","type":"rectangle","x":400.25,"y":418.95540810502285,"width":98.75,"height":54.497716894977174,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a9","roundness":{"type":3},"seed":160778665,"version":295,"versionNonce":1916367593,"isDeleted":false,"boundElements":[{"type":"text","id":"IItnfKNP"}],"updated":1743157126729,"link":null,"locked":false},{"id":"IItnfKNP","type":"text","x":428.62501525878906,"y":433.70426655251146,"width":41.999969482421875,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":null,"seed":1232088201,"version":303,"versionNonce":1983720905,"isDeleted":false,"boundElements":[],"updated":1743157126729,"link":null,"locked":false,"text":"SPD","rawText":"SPD","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"y4njsH4yJ8AaeDzEkGDxO","originalText":"SPD","autoResize":true,"lineHeight":1.25},{"id":"tzithoF70s-2AuQ2cbSKt","type":"rectangle","x":399.471740378076,"y":514.113449527405,"width":107,"height":45,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":{"type":3},"seed":176230281,"version":281,"versionNonce":1070100355,"isDeleted":false,"boundElements":[{"type":"text","id":"AHLhgbTy"}],"updated":1743440784333,"link":null,"locked":false},{"id":"AHLhgbTy","type":"text","x":436.1917568575682,"y":524.113449527405,"width":33.559967041015625,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":null,"seed":1870970695,"version":141,"versionNonce":1018529571,"isDeleted":false,"boundElements":[],"updated":1743440784333,"link":null,"locked":false,"text":"LVL","rawText":"LVL","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"tzithoF70s-2AuQ2cbSKt","originalText":"LVL","autoResize":true,"lineHeight":1.25},{"id":"H7w_SBfRMwPD4eT-rA_mS","type":"rectangle","x":138.5,"y":420.953125,"width":138,"height":63,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":{"type":3},"seed":1493337289,"version":62,"versionNonce":220032489,"isDeleted":false,"boundElements":[{"type":"text","id":"Fm2mhliM"}],"updated":1743157174110,"link":null,"locked":false},{"id":"Fm2mhliM","type":"text","x":164.7000274658203,"y":439.953125,"width":85.59994506835938,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aE","roundness":null,"seed":1857533031,"version":12,"versionNonce":686409929,"isDeleted":false,"boundElements":[],"updated":1743157174110,"link":null,"locked":false,"text":"FlatProg","rawText":"FlatProg","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"H7w_SBfRMwPD4eT-rA_mS","originalText":"FlatProg","autoResize":true,"lineHeight":1.25},{"id":"TllwXWU3ecgFfKiWqh1-x","type":"line","x":399.5,"y":541.953125,"width":332,"height":88,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aF","roundness":{"type":2},"seed":771982345,"version":177,"versionNonce":421170343,"isDeleted":false,"boundElements":[],"updated":1743157170022,"link":null,"locked":false,"points":[[0,0],[-283,-10.62109375],[-332,-73.12109375],[-260.5,-88]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"SWx77EP-yKK_lDxCAFqKZ","type":"rectangle","x":143.5,"y":343.83203125,"width":138,"height":63,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aG","roundness":{"type":3},"seed":1676601543,"version":80,"versionNonce":1962889449,"isDeleted":false,"boundElements":[{"type":"text","id":"8Wujsmpm"}],"updated":1743157177330,"link":null,"locked":false},{"id":"8Wujsmpm","type":"text","x":149.2200469970703,"y":350.33203125,"width":126.55990600585938,"height":50,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aH","roundness":null,"seed":1271150567,"version":62,"versionNonce":240322217,"isDeleted":false,"boundElements":[],"updated":1743157193059,"link":null,"locked":false,"text":"CustomFunct\nionProg","rawText":"CustomFunctionProg","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"SWx77EP-yKK_lDxCAFqKZ","originalText":"CustomFunctionProg","autoResize":true,"lineHeight":1.25},{"id":"dbIludsYRlBgELq-p40JK","type":"line","x":281.5,"y":376.83203125,"width":118,"height":45,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aI","roundness":{"type":2},"seed":1856644775,"version":31,"versionNonce":800833129,"isDeleted":false,"boundElements":[],"updated":1743157196148,"link":null,"locked":false,"points":[[0,0],[118,-45]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"VKX3aUQ_0xL7r0voXCEMu","type":"line","x":400,"y":533.33203125,"width":368,"height":152.5,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aJ","roundness":{"type":2},"seed":1941450345,"version":138,"versionNonce":1054477063,"isDeleted":false,"boundElements":[],"updated":1743157208113,"link":null,"locked":false,"points":[[0,0],[-368,-64.5],[-257.5,-152.5]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null},{"id":"nESFKS4jQJBCmj43OJSWM","type":"line","x":283,"y":377.33203125,"width":114.5,"height":106,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"aK","roundness":{"type":2},"seed":303707463,"version":52,"versionNonce":867415591,"isDeleted":false,"boundElements":[],"updated":1743157219454,"link":null,"locked":false,"points":[[0,0],[114.5,-106]],"lastCommittedPoint":null,"startBinding":null,"endBinding":null,"startArrowhead":null,"endArrowhead":null}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":5,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemArrowType":"round","scrollX":-1.2999023010741553,"scrollY":-127.3177338529539,"zoom":{"value":1.582116},"currentItemRoundness":"round","gridSize":20,"gridStep":5,"gridModeEnabled":false,"gridColor":{"Bold":"rgba(217, 217, 217, 0.5)","Regular":"rgba(230, 230, 230, 0.5)"},"currentStrokeOptions":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false,"activeTool":{"type":"selection","customType":null,"locked":false,"lastActiveTool":null}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("2025-03-19_1057_Modelo_de_datos_Progpoint_2025-03-28_11.17.40.excalidraw.md2");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

Entonces la clase Agente se vería algo como esto:

```
class Agent:

	//la id de agente. define al tipo de agente, y los efectos la usan para determinar los objetivos viables.
string agentID;

StatInstance[] stats;

// El archivo JSON que guarda el mapa de ondos de React Flow. Se modifica y guarda cada vez que React Flow cambia. 
JSON nodes;
JSON edges;

void addNewStat (Stat stat){
	stats.add(stat.CreateNewInstance())
}

```

# Estadística

Esto quiero que se vea como una interfaz para una progresión. La idea es que los efectos modifican las estadísticas, y el número máximo en ese momento se saca a partir de la progresión.

La progresión es la que se encarga de darle el valor actual (máximo/total/lo que sea) y los efectos interactúan con ellos a partir de ello.

Una estadística podría no tener ninguna progresión, y ser modificada a partir de los efectos ej. Experiencia.

En código, la clase Estadística sería:

```
class Stat{

	
	
	
	//determina si se puede aumentar o reducir (como la HP, por ejemplo)
	bool isMutable;
	//determina si se actualiza el valor mutable al modificarse el valor maximo (como subir de nivel en los FF's)
	bool updateMutableOnTotalChange;
	
	//no sé si tendremos estadísticas booleanas, pero por el momento se queda así
	
	//el valor actual mutable de la stat
	int mutableValue;
	
	//el valor máximo de la stat, modificado por Progressions;
	int maxValue;
	

	
	void changeMutableValue() {
		
	} 
}

// La clase de los objetos que tendrán los Agent. Mantiene los valores de las estadísticas actuales y los valores mutables en el simulador de combate
class StatInstance{
	
	//Si la clase es llevada por alguna progresión, estará referenciada en este array. 
	//Se actualiza cada vez que en el flow se conecta alguna Progresión.
	
	Progression[] progressionReferences;
	Stat stat;
	
	//el valor actual mutable de la stat
	int mutableValue;
	
	//el valor máximo de la stat, modificado por Progressions;
	int maxValue;
	
	
	void updateMaxValue(){
		int newMaxValue = 0;
		for each (Progression p : ProgressionReferences) {
			newMaxValue += p.getCalc();
		}
		maxValue = newMaxValue;
		if (mutableValue && updateMutableOnTotalChange) mutableValue = newMaxValue;
	}	
	
	

}
```
# Progresión

Le dan valor a las estadísticas por medio de una función matemática.

La función de progresión viene dada por la forma $f$($M_p$), donde $f$ es la función de progresión y $M_p$ es el marcador de progresión, una estadística externa que determina el punto de la progresión.

Un ejemplo:

* Estadística: HP

* $F$($M_p$) = $7M_p$ / sqrt($M_p$)

* $M_p$ = Nivel del actor. 




# Efecto

Cualquier acción que realizen dos agentes y modifique el estado del combate.

Pueden:

* Añadir condiciones a un agente
* Modificar variables mutables

# React Flow y el modelo de datos

Cada Agente será representado por un mapa de nodos, como el ejemplo de [[01 - Proyectos/TFG/Diseño/2025-03-19_10.57 Modelo de datos Progpoint#Agente\|#Agente]]. De fondo, tendremos un ProjectManager y los objetos de todos los agentes, estadísticas, progresiones y efectos. React Flow se encargará de actualizar las referencias de cada objeto a medida que el usuario añada conexiones y nodos al agente. Los objetos estadísticas, progresión y efectos funcionarán con forms y editores más convencionales, y podrás editarlos dentro del flow, abriendo la pantalla correspondiente.

Para las curvas de progresión, tendremos una calculadora de funciones matemáticas, utilizando react-math-calc